<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `jsapi_utils` mod in crate `es_runtime`."><meta name="keywords" content="rust, rustlang, rust-lang, jsapi_utils"><title>es_runtime::jsapi_utils - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css"><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../es_runtime/index.html'><div class='logo-container'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Module jsapi_utils</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></div><p class='location'><a href='../index.html'>es_runtime</a></p><script>window.sidebarCurrent = {name: 'jsapi_utils', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/es_runtime/jsapi_utils.rs.html#1-364' title='goto source code'>[src]</a></span><span class='in-band'>Module <a href='../index.html'>es_runtime</a>::<wbr><a class="mod" href=''>jsapi_utils</a></span></h1><div class='docblock'><h1 id="jsapi_utils" class="section-header"><a href="#jsapi_utils">jsapi_utils</a></h1>
<p>this mod contains utilities for working with JSAPI(SpiderMonkey)
unless states otherwise you can asume that all methods in this mod and submods need to be called
from the event queue of the EsRuntime</p>
<h1 id="example" class="section-header"><a href="#example">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
    <span class="kw">use</span> <span class="ident">es_runtime</span>::<span class="ident">esruntimebuilder</span>::<span class="ident">EsRuntimeBuilder</span>;
    <span class="kw">use</span> <span class="ident">es_runtime</span>::<span class="ident">jsapi_utils</span>;

<span class="kw">let</span> <span class="ident">rt</span> <span class="op">=</span> <span class="ident">EsRuntimeBuilder</span>::<span class="ident">new</span>().<span class="ident">build</span>();
<span class="ident">rt</span>.<span class="ident">do_in_es_event_queue_sync</span>(<span class="op">|</span><span class="ident">sm_rt</span><span class="op">|</span> {
    <span class="comment">// use jsapi_utils here</span>
    <span class="comment">// if you need the Runtime, JSContext or Global object (which you almost allways will)</span>
    <span class="comment">// you can use this method in the SmRuntime</span>
    <span class="ident">sm_rt</span>.<span class="ident">do_with_jsapi</span>(<span class="op">|</span><span class="ident">rt</span>, <span class="ident">cx</span>, <span class="ident">global</span><span class="op">|</span> {
        <span class="comment">// use jsapi_utils here</span>
        <span class="kw">let</span> <span class="ident">there_is_a_pending_exception</span> <span class="op">=</span> <span class="ident">jsapi_utils</span>::<span class="ident">get_pending_exception</span>(<span class="ident">cx</span>).<span class="ident">is_some</span>();
    })
})</pre></div>
</div><h2 id='modules' class='section-header'><a href="#modules">Modules</a></h2>
<table><tr class='module-item'><td><a class="mod" href="arrays/index.html" title='es_runtime::jsapi_utils::arrays mod'>arrays</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="big_ints/index.html" title='es_runtime::jsapi_utils::big_ints mod'>big_ints</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="functions/index.html" title='es_runtime::jsapi_utils::functions mod'>functions</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="handles/index.html" title='es_runtime::jsapi_utils::handles mod'>handles</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="modules/index.html" title='es_runtime::jsapi_utils::modules mod'>modules</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="objects/index.html" title='es_runtime::jsapi_utils::objects mod'>objects</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="promises/index.html" title='es_runtime::jsapi_utils::promises mod'>promises</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="reflection/index.html" title='es_runtime::jsapi_utils::reflection mod'>reflection</a></td><td class='docblock-short'><p>Reflection</p>
</td></tr><tr class='module-item'><td><a class="mod" href="rooting/index.html" title='es_runtime::jsapi_utils::rooting mod'>rooting</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="scripts/index.html" title='es_runtime::jsapi_utils::scripts mod'>scripts</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="typed_arrays/index.html" title='es_runtime::jsapi_utils::typed_arrays mod'>typed_arrays</a></td><td class='docblock-short'></td></tr></table><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table><tr class='module-item'><td><a class="struct" href="struct.EsErrorInfo.html" title='es_runtime::jsapi_utils::EsErrorInfo struct'>EsErrorInfo</a></td><td class='docblock-short'><p>struct that represents a script exception</p>
</td></tr></table><h2 id='functions' class='section-header'><a href="#functions">Functions</a></h2>
<table><tr class='module-item'><td><a class="fn" href="fn.es_jsid_to_string.html" title='es_runtime::jsapi_utils::es_jsid_to_string fn'>es_jsid_to_string</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.es_jsstring_to_string.html" title='es_runtime::jsapi_utils::es_jsstring_to_string fn'>es_jsstring_to_string</a></td><td class='docblock-short'><p>convert a JSString to a rust string</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.es_value_to_str.html" title='es_runtime::jsapi_utils::es_value_to_str fn'>es_value_to_str</a></td><td class='docblock-short'><p>convert a StringValue to a rust string</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.eval.html" title='es_runtime::jsapi_utils::eval fn'>eval</a></td><td class='docblock-short'><p>eval a piece of source code in the engine</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.gc.html" title='es_runtime::jsapi_utils::gc fn'>gc</a></td><td class='docblock-short'><p>call the garbage collector</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.get_pending_exception.html" title='es_runtime::jsapi_utils::get_pending_exception fn'>get_pending_exception</a></td><td class='docblock-short'><p>see if there is a pending exception and return it as an EsErrorInfo</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.get_type_of.html" title='es_runtime::jsapi_utils::get_type_of fn'>get_type_of</a></td><td class='docblock-short'><p>get the type of a JSVal
this is the equivalent of calling <code>typeof val</code> in script</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.new_es_value_from_str.html" title='es_runtime::jsapi_utils::new_es_value_from_str fn'>new_es_value_from_str</a></td><td class='docblock-short'><p>convert a str to a StringValue so it can be used in the engine</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.report_exception.html" title='es_runtime::jsapi_utils::report_exception fn'>report_exception</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.report_exception2.html" title='es_runtime::jsapi_utils::report_exception2 fn'>report_exception2</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.set_gc_zeal_options.html" title='es_runtime::jsapi_utils::set_gc_zeal_options fn'>set_gc_zeal_options</a></td><td class='docblock-short'></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "es_runtime";</script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>